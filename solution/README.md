# PROD Backend 2025 Рекламная платформа

## Запуск приложения
Запуск приложения происходит с помощью `docker compose up -d` на стандартном порту 8080 для api и 80 для реверс прокси к S3 хранилищу.
При необходимости поменять порт реверс прокси, надо изменить значение переменной `CDN_URL` в файле `docker-compose.yaml` и маппинг портов для caddy.

Сам деплой состоит из контейнера с python-приложением (backend), бд (postgres), кэша (redis), реверс-прокси (caddy), S3 хранилища (minio) и системы визуализации данных (grafana).

## Запуск тестов
Запуск тестов происходит с помощью `docker compose up -d` и дальнейшим запуском pytest в директории solution.
E2E тесты удаляют все данные из бд при запуске, поэтому необходимо запускать тесты в отдельно запущеном окружении, при запуске тестов необходимо убедиться, что установлена переменная окружения `DATABASE_DSN`. Также необходимо заэкспоузить порт postgres.

## Архитектура и схемы БД
Смотри файл: [architecture.md](docs/arch.md)

## Точки входа
Смотри [endpoints.md](docs/endpoints.md)

## Работа с приложением и Демонстрация функционала
Смотри [flow.md](docs/flow.md)